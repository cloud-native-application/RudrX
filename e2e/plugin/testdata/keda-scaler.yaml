# Code generated by KubeVela templates. DO NOT EDIT.
apiVersion: core.oam.dev/v1beta1
kind: TraitDefinition
metadata:
  name: keda-scaler
  annotations:
    definition.oam.dev/description: "keda-scaler supports multiple event to elastically scale applications, this scaler only applies to ScaledObject"
spec:
  definitionRef:
    name: scaledobjects.keda.sh
  appliesToWorkloads:
    - deployments.apps
  schematic:
    cue:
      template: |
        outputs: kedaScaler: {
        	apiVersion: "keda.sh/v1alpha1"
        	kind:       "ScaledObject"
        	metadata: {
        		name: context.name
        	}
        	spec: {
        		scaleTargetRef: {
        			name: context.name
        		}
        		triggers: [{
        			type: parameter.triggerType
        			metadata: {
        				type:  "Utilization"
        				value: parameter.value
        			}
        		}]
        	}
        }

        parameter: {
        	// +usage=Types of triggering application elastic scaling, Optional: cpu, memory
        	triggerType: string
        	// +usage=Value to trigger scaling actions, represented as a percentage of the requested value of the resource for the pods. like: "60"(60%)
        	value: string
        }